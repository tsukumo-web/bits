(function(){var a=[].slice;(function(b,e){var d,c;if(typeof define==="function"&&define.amd){return define("scroll",["hammer","anim"],e)}else{if(typeof exports==="object"){return module.exports=e(require("hammer"),require("anim"))}else{c="scroll";d=b[c];b[c]=e(b.Hammer,b.anim);return b[c].noConflict=function(){var f;f=b[c];b[c]=d;return f}}}})(window||this,(function(d,p,h){var m,o,e,l,b,k,j,n,c,q,i,f;m={HORIZONTAL:0,VERTICAL:1,supported:!!document.querySelector&&!!document.querySelectorAll&&!!document.addEventListener&&!!document.removeEventListener};l={events:new p.Manager(document.body),pages:null,defaults:{speed:500,easing:"expo",offset:0,url:true,before:null,after:null}};n=function(s,g,r){if(g===m.VERTICAL){return s.scrollTop=r}else{return s.scrollLeft=r}};j=function(r,g){if(g===m.VERTICAL){return r.scrollTop}else{return r.scrollLeft}};e=function(r,g,u,s){var t;t=0;if(u.offsetParent){while(u){t+=g===m.VERTICAL?u.offsetTop:u.offsetLeft;u=u.offsetParent}}return Math.max(t-s,0)};f=function(r,g){if(g||String(g)==="true"){return typeof history.pushState==="function"?history.pushState({pos:r.id},"",window.location.pathname+r):void 0}};b=function(s){var g,r;r={};g=s.getAttribute("data-scroll-ease");if(g){r.easing=g}g=s.getAttribute("data-scroll-speed");if(g){r.speed=Number(g)}g=s.getAttribute("data-scroll-offset");if(g){r.offset=Number(g)}g=s.getAttribute("data-scroll-what");if(g){r.page=String(g)}g=s.getAttribute("data-scroll-direction");if(g){r.direction=g==="horizontal"?m.HORIZONTAL:m.VERTICAL}g=s.getAttribute("data-scroll-url");if(g){r.url=String(g)==="true"}return r};m.animate=function(w,r){var v,t,u,s,g;if(!l.pages){return console.warn("module not initialized")}u=l.pages[r.page]||l.pages.body;s=d.merge(u.settings||{},r||{});s.offset=parseInt(s.offset,10);s.speed=parseInt(s.speed,10);s.easing=String(s.easing);t=document.querySelector(w);if(!t){return console.warn("element not found matching",w)}g=j(u.elem,u.direction);v=e(u.elem,u.direction,t,s.offset)-g;if(!v){return}if(g===0){n(0)}f(w,s.url);return h({auto:true,ease:s.easing,speed:s.speed,next:function(x){return n(u.elem,u.direction,Math.floor(g+v*x))}})};q=false;i=false;c=function(g){q=true;i=false;return setTimeout(function(){var r;if(q||i){return}r=d.closest(g.target,"[data-scroll]");if(r){g.preventDefault();if(l.scrolling){l.scrolling.stop()}return l.scrolling=m.animate(r.getAttribute("data-scroll"),b(r))}},200)};o=function(g){return q=false};k=function(g){return i=true};m.destroy=function(){document.removeEventListener("mousedown",c,false);document.removeEventListener("touchstart",c,false);document.removeEventListener("mouseup",o,false);document.removeEventListener("touchend",o,false);document.removeEventListener("touchcancel",o,false);document.removeEventListener("mousemove",k,false);return document.removeEventListener("touchmove",k,false)};m.init=function(t){var x,s,w,g,u,v,r;if(!m.supported){return console.warn("module not supported")}m.destroy();l.pages={body:{elem:document.body,direction:m.VERTICAL,settings:l.defaults}};g=document.querySelectorAll("[data-scroll-page]");for(v=0,r=g.length;v<r;v++){w=g[v];s=w.getAttribute("data-scroll-page");u=d.merge(l.defaults,t||{},b(w));x=w.getAttribute("data-scroll-direction");x=x==="horizontal"?m.HORIZONTAL:m.VERTICAL;l.pages[s]={elem:w,direction:x,settings:u}}return events.on("tap",c)};return m}).bind(this,(function(){return{merge:function(){var d,h,f,b,g,e,c;f=1<=arguments.length?a.call(arguments,0):[];b={};for(e=0,c=f.length;e<c;e++){h=f[e];for(d in h){g=h[d];b[d]=g}}return b},closest:function(d,b){var c;c=b.charAt(0);b=b.substr(1);while(d&&d!==document){switch(c){case".":if(d.classList.contains(b)){return d}break;case"#":if(d.id===b){return d}break;case"[":if(d.hasAttribute(b.substr(0,b.length-1))){return d}}d=d.parentNode}return false}}})()))}).call(this);