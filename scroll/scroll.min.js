(function(){var a=[].slice;(function(b,e){var d,c;if(typeof define==="function"&&define.amd){return define("scroll",["easing"],e)}else{if(typeof exports==="object"){return module.exports=e(require("easing"))}else{c="scroll";d=b[c];b[c]=e(b.easing);return b[c].noConflict=function(){var f;f=b[c];b[c]=d;return f}}}})(window||this,(function(d,m){var l,o,e,j,b,k,i,n,c,p,h,f;l={HORIZONTAL:0,VERTICAL:1,supported:!!document.querySelector&&!!document.querySelectorAll&&!!document.addEventListener&&!!document.removeEventListener};j={easing:m,pages:null,defaults:{speed:500,easing:"expo",offset:0,url:true,before:null,after:null}};l.addEasing=function(g,q){return j.easing[g]=q};n=function(r,g,q){if(g===l.VERTICAL){return r.scrollTop=q}else{return r.scrollLeft=q}};i=function(q,g){if(g===l.VERTICAL){return q.scrollTop}else{return q.scrollLeft}};e=function(q,g,t,r){var s;s=0;if(t.offsetParent){while(t){s+=g===l.VERTICAL?t.offsetTop:t.offsetLeft;t=t.offsetParent}}s-=r;return Math.max(s,0)};f=function(q,g){if(g||String(g)==="true"){return typeof history.pushState==="function"?history.pushState({pos:q.id},"",window.location.pathname+q):void 0}};b=function(r){var g,q;q={};g=r.getAttribute("data-scroll-ease");if(g){q.easing=g}g=r.getAttribute("data-scroll-speed");if(g){q.speed=Number(g)}g=r.getAttribute("data-scroll-offset");if(g){q.offset=Number(g)}g=r.getAttribute("data-scroll-what");if(g){q.page=String(g)}g=r.getAttribute("data-scroll-direction");if(g){q.direction=g==="horizontal"?l.HORIZONTAL:l.VERTICAL}g=r.getAttribute("data-scroll-url");if(g){q.url=String(g)==="true"}return q};l.animate=function(z,A){var q,u,s,g,x,v,r,w,y,t;if(!j.pages){return console.warn("module not initialized")}x=j.pages[A.page]||j.pages.body;v=d.merge(x.settings||{},A||{});v.offset=parseInt(v.offset,10);v.speed=parseInt(v.speed,10);v.easing=String(v.easing);u=document.querySelector(z);if(!u){return console.warn("element not found matching",z)}w=i(x.elem,x.direction);q=e(x.elem,x.direction,u,v.offset)-w;if(!q){return console.warn("no distance to scroll")}t=0;s=null;m=j.easing[v.easing];if(!m){console.warn("easing function ",v.easing,"not found");m=j.easing.linear}y=function(){clearInterval(s);u.focus();return typeof v.after==="function"?v.after(z):void 0};g=function(){var B;B=Math.min((t+=16)/v.speed,1);n(x.elem,x.direction,Math.floor(w+q*m(B)));if(B===1){return y()}};r=function(){if(typeof v.before==="function"){v.before(z)}return s=setInterval(g,16)};if(i(x.elem,x.direction)===0){n(0)}f(z,v.url);r();return{stop:y}};p=false;h=false;c=function(g){p=true;h=false;return setTimeout(function(){var q;if(p||h){return}q=d.closest(g.target,"[data-scroll]");if(q){g.preventDefault();if(j.scrolling){j.scrolling.stop()}return j.scrolling=l.animate(q.getAttribute("data-scroll"),b(q))}},200)};o=function(g){return p=false};k=function(g){return h=true};l.destroy=function(){document.removeEventListener("mousedown",c,false);document.removeEventListener("touchstart",c,false);document.removeEventListener("mouseup",o,false);document.removeEventListener("touchend",o,false);document.removeEventListener("touchcancel",o,false);document.removeEventListener("mousemove",k,false);return document.removeEventListener("touchmove",k,false)};l.init=function(s){var w,r,v,g,t,u,q;if(!l.supported){return console.warn("module not supported")}l.destroy();j.pages={body:{elem:document.body,direction:l.VERTICAL,settings:j.defaults}};g=document.querySelectorAll("[data-scroll-page]");for(u=0,q=g.length;u<q;u++){v=g[u];r=v.getAttribute("data-scroll-page");t=d.merge(j.defaults,s||{},b(v));w=v.getAttribute("data-scroll-direction");w=w==="horizontal"?l.HORIZONTAL:l.VERTICAL;j.pages[r]={elem:v,direction:w,settings:t}}document.addEventListener("mousedown",c,false);document.addEventListener("touchstart",c,false);document.addEventListener("mouseup",o,false);document.addEventListener("touchend",o,false);document.addEventListener("touchcancel",o,false);document.addEventListener("mousemove",k,false);return document.addEventListener("touchmove",k,false)};return l}).bind(this,(function(){return{merge:function(){var d,h,f,b,g,e,c;f=1<=arguments.length?a.call(arguments,0):[];b={};for(e=0,c=f.length;e<c;e++){h=f[e];for(d in h){g=h[d];b[d]=g}}return b},closest:function(d,b){var c;c=b.charAt(0);b=b.substr(1);while(d&&d!==document){switch(c){case".":if(d.classList.contains(b)){return d}break;case"#":if(d.id===b){return d}break;case"[":if(d.hasAttribute(b.substr(0,b.length-1))){return d}}d=d.parentNode}return false}}})()))}).call(this);