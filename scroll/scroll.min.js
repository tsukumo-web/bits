(function(){var a=[].slice;(function(b,e){var d,c;if(typeof define==="function"&&define.amd){return define("scroll",["hammer","anim"],e)}else{if(typeof exports==="object"){return module.exports=e(require("hammer"),require("anim"))}else{c="scroll";d=b[c];b[c]=e(b.Hammer,b.anim);return b[c].noConflict=function(){var f;f=b[c];b[c]=d;return f}}}})(window||this,(function(c,l,f){var j,d,i,b,m,h,k,e;j={HORIZONTAL:0,VERTICAL:1,supported:!!document.querySelector&&!!document.querySelectorAll&&!!document.addEventListener&&!!document.removeEventListener};i={events:new l.Manager(document.body,{recognizers:[[l.Tap]]}),pages:null,defaults:{speed:500,easing:"expo",offset:0,url:true,before:null,after:null}};k=function(o,g,n){if(g===j.VERTICAL){return o.scrollTop=n}else{return o.scrollLeft=n}};h=function(n,g){if(g===j.VERTICAL){return n.scrollTop}else{return n.scrollLeft}};d=function(n,g,q,o){var p;p=0;if(q.offsetParent){while(q){p+=g===j.VERTICAL?q.offsetTop:q.offsetLeft;q=q.offsetParent}}return Math.max(p-o,0)};e=function(n,g){if(g||String(g)==="true"){return typeof history.pushState==="function"?history.pushState({pos:n.id},"",window.location.pathname+n):void 0}};b=function(o){var g,n;n={};g=o.getAttribute("data-scroll-ease");if(g){n.easing=g}g=o.getAttribute("data-scroll-speed");if(g){n.speed=Number(g)}g=o.getAttribute("data-scroll-offset");if(g){n.offset=Number(g)}g=o.getAttribute("data-scroll-what");if(g){n.page=String(g)}g=o.getAttribute("data-scroll-direction");if(g){n.direction=g==="horizontal"?j.HORIZONTAL:j.VERTICAL}g=o.getAttribute("data-scroll-url");if(g){n.url=String(g)==="true"}return n};j.animate=function(s,n){var r,p,q,o,g;if(!i.pages){return console.warn("module not initialized")}q=i.pages[n.page]||i.pages.body;o=c.merge(q.settings||{},n||{});o.offset=parseInt(o.offset,10);o.speed=parseInt(o.speed,10);o.easing=String(o.easing);p=document.querySelector(s);if(!p){return console.warn("element not found matching",s)}g=h(q.elem,q.direction);r=d(q.elem,q.direction,p,o.offset)-g;if(!r){return}if(g===0){k(0)}e(s,o.url);return f({auto:true,ease:o.easing,speed:o.speed,next:function(u){return k(q.elem,q.direction,Math.floor(g+r*u))}})};m=function(g){var n;n=c.closest(g.target,"[data-scroll]");if(n){g.preventDefault();if(i.scrolling){i.scrolling.stop()}return i.scrolling=j.animate(n.getAttribute("data-scroll"),b(n))}};j.destroy=function(){return i.events.off("tap")};j.init=function(p){var t,o,s,g,q,r,n;if(!j.supported){return console.warn("module not supported")}j.destroy();i.pages={body:{elem:document.body,direction:j.VERTICAL,settings:i.defaults}};g=document.querySelectorAll("[data-scroll-page]");for(r=0,n=g.length;r<n;r++){s=g[r];o=s.getAttribute("data-scroll-page");q=c.merge(i.defaults,p||{},b(s));t=s.getAttribute("data-scroll-direction");t=t==="horizontal"?j.HORIZONTAL:j.VERTICAL;i.pages[o]={elem:s,direction:t,settings:q}}console.log(i.events);return i.events.on("tap",m)};return j}).bind(this,(function(){return{merge:function(){var d,h,f,b,g,e,c;f=1<=arguments.length?a.call(arguments,0):[];b={};for(e=0,c=f.length;e<c;e++){h=f[e];for(d in h){g=h[d];b[d]=g}}return b},closest:function(d,b){var c;c=b.charAt(0);b=b.substr(1);while(d&&d!==document){switch(c){case".":if(d.classList.contains(b)){return d}break;case"#":if(d.id===b){return d}break;case"[":if(d.hasAttribute(b.substr(0,b.length-1))){return d}}d=d.parentNode}return false}}})()))}).call(this);