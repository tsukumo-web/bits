(function(){var a=[].slice;(function(b,e){var d,c;c="scroll";if(typeof define==="function"&&define.amd){return define(c,["easing"],e)}else{if(typeof exports==="object"){return module.exports=e(require("easing"))}else{d=b[c];b[c]=e(b.easing);return b[c].noConflict=function(){var f;f=b[c];b[c]=d;return f}}}})(window||this,(function(d,k){var j,m,e,i,b,h,l,c,n,f;j={HORIZONTAL:0,VERTICAL:1,supported:!!document.querySelector&&!!document.querySelectorAll&&!!document.addEventListener&&!!document.removeEventListener};i={easing:k,pages:null,defaults:{speed:500,easing:"expo",offset:0,url:true,before:null,after:null}};j.addEasing=function(g,o){return i.easing[g]=o};l=function(p,g,o){if(g===j.VERTICAL){return p.scrollTop=o}else{return p.scrollLeft=o}};h=function(o,g){if(g===j.VERTICAL){return o.scrollTop}else{return o.scrollLeft}};e=function(o,g,r,p){var q;q=0;if(r.offsetParent){while(r){q+=g===j.VERTICAL?r.offsetTop:r.offsetLeft;r=r.offsetParent}}q-=p;return Math.max(q,0)};f=function(o,g){if(g||String(g)==="true"){return typeof history.pushState==="function"?history.pushState({pos:o.id},"",window.location.pathname+o):void 0}};b=function(p){var g,o;o={};g=p.getAttribute("data-scroll-ease");if(g){o.easing=g}g=p.getAttribute("data-scroll-speed");if(g){o.speed=Number(g)}g=p.getAttribute("data-scroll-offset");if(g){o.offset=Number(g)}g=p.getAttribute("data-scroll-what");if(g){o.page=String(g)}g=p.getAttribute("data-scroll-direction");if(g){o.direction=g==="horizontal"?j.HORIZONTAL:j.VERTICAL}g=p.getAttribute("data-scroll-url");if(g){o.url=String(g)==="true"}return o};j.animate=function(x,y){var o,s,q,g,v,t,p,u,w,r;if(!i.pages){return console.warn("module not initialized")}v=i.pages[y.page]||i.pages.body;t=d.merge(v.settings||{},y||{});t.offset=parseInt(t.offset,10);t.speed=parseInt(t.speed,10);t.easing=String(t.easing);s=document.querySelector(x);if(!s){return console.warn("element not found matching",x)}u=h(v.elem,v.direction);o=e(v.elem,v.direction,s,t.offset)-u;if(!o){return console.warn("no distance to scroll")}r=0;q=null;k=i.easing[t.easing];if(!k){console.warn("easing function ",t.easing,"not found");k=i.easing.linear}w=function(){clearInterval(q);s.focus();return typeof t.after==="function"?t.after(x):void 0};g=function(){var z;z=Math.min((r+=16)/t.speed,1);l(v.elem,v.direction,Math.floor(u+o*k(z)));if(z===1){return w()}};p=function(){if(typeof t.before==="function"){t.before(x)}return q=setInterval(g,16)};if(h(v.elem,v.direction)===0){l(0)}f(x,t.url);p();return{stop:w}};n=false;c=function(g){n=true;return setTimeout(function(){var o;if(n){return}o=d.closest(g.target,"[data-scroll]");if(o){g.preventDefault();if(i.scrolling){i.scrolling.stop()}return i.scrolling=j.animate(o.getAttribute("data-scroll"),b(o))}},200)};m=function(g){return n=false};j.destroy=function(){document.removeEventListener("mousedown",c,false);document.removeEventListener("touchstart",c,false);document.removeEventListener("mouseup",m,false);return document.removeEventListener("touchend",m,false)};j.init=function(q){var u,p,t,g,r,s,o;if(!j.supported){return console.warn("module not supported")}j.destroy();i.pages={body:{elem:document.body,direction:j.VERTICAL,settings:i.defaults}};g=document.querySelectorAll("[data-scroll-page]");for(s=0,o=g.length;s<o;s++){t=g[s];p=t.getAttribute("data-scroll-page");r=d.merge(i.defaults,q||{},b(t));u=t.getAttribute("data-scroll-direction");u=u==="horizontal"?j.HORIZONTAL:j.VERTICAL;i.pages[p]={elem:t,direction:u,settings:r}}document.addEventListener("mousedown",c,false);document.addEventListener("touchstart",c,false);document.addEventListener("mouseup",m,false);return document.addEventListener("touchend",m,false)};return j}).bind(this,(function(){return{merge:function(){var d,h,f,b,g,e,c;f=1<=arguments.length?a.call(arguments,0):[];b={};for(e=0,c=f.length;e<c;e++){h=f[e];for(d in h){g=h[d];b[d]=g}}return b},closest:function(d,b){var c;c=b.charAt(0);b=b.substr(1);while(d&&d!==document){switch(c){case".":if(d.classList.contains(b)){return d}break;case"#":if(d.id===b){return d}break;case"[":if(d.hasAttribute(b.substr(0,b.length-1))){return d}}d=d.parentNode}return false}}})()))}).call(this);